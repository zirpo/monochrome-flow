<h1>System Patterns: Monochrome Flow</h1>
<h2>Architecture Overview</h2>
<p>Monochrome Flow is built as a static site generated by Eleventy. It follows a content-driven architecture where content (portraits and their metadata) is separated from presentation (templates and styles).</p>
<h2>Key Technical Decisions</h2>
<ul>
<li><strong>Eleventy (11ty)</strong>: Chosen for its simplicity, flexibility, and performance in generating static sites. It allows for a wide range of templating languages and data sources.</li>
<li><strong>Nunjucks</strong>: Selected as the primary templating language for its Jinja-like syntax, which is powerful yet easy to read and write.</li>
<li><strong>Markdown with Front Matter</strong>: Content for individual portraits is managed via Markdown files. YAML front matter is used to embed structured metadata directly within these content files, which Eleventy then processes into a global data cascade.</li>
</ul>
<h2>Component Relationships</h2>
<ol>
<li>
<p><strong><code>src/portraits/*.md</code></strong>: These Markdown files are the core content units. Each file represents a single portrait and contains:</p>
<ul>
<li><strong>YAML Front Matter</strong>: Structured data (title, date, mood, camera, etc.) that Eleventy reads and makes available to templates.</li>
<li><strong>Markdown Body</strong>: Optional descriptive text or story about the photograph.</li>
<li><strong>Implicit Image Link</strong>: The Eleventy setup is configured to associate a <code>.jpg</code> file of the same name (e.g., <code>portrait-01.md</code> with <code>portrait-01.jpg</code>) for display.</li>
</ul>
</li>
<li>
<p><strong><code>src/_data/site.json</code></strong>: This global data file holds site-wide metadata (e.g., site title, author) that is accessible across all templates.</p>
</li>
<li>
<p><strong><code>src/_includes/layouts/base.njk</code></strong>: The foundational Nunjucks layout. It defines the basic HTML structure, links to CSS and JavaScript, and includes common components like the header and footer. All other layouts typically extend this base layout.</p>
</li>
<li>
<p><strong><code>src/_includes/layouts/portrait.njk</code></strong>: This layout is specifically designed for individual portrait pages. It consumes the data from the <code>.md</code> file's front matter and the associated image to render a detailed view of a single photograph.</p>
</li>
<li>
<p><strong><code>src/_includes/components/*.njk</code></strong>: Reusable Nunjucks partials (e.g., <code>header.njk</code>, <code>footer.njk</code>, <code>gallery-grid.njk</code>) that are included in various layouts to maintain consistency and promote modularity.</p>
</li>
<li>
<p><strong><code>src/index.njk</code></strong>: The homepage template. It typically iterates through the collection of portraits (created by Eleventy from <code>src/portraits/</code>) and displays them, often using the <code>gallery-grid.njk</code> component.</p>
</li>
<li>
<p><strong><code>src/assets/css/style.css</code></strong>: Contains the global styling for the website.</p>
</li>
<li>
<p><strong><code>.eleventy.js</code></strong>: The Eleventy configuration file. This is where custom collections, filters, shortcodes, and passthrough file copies (like images and CSS) are defined. It dictates how Eleventy processes the source files into the <code>_site</code> output directory.</p>
</li>
</ol>
<h2>Critical Implementation Paths</h2>
<ul>
<li><strong>Content to Page Generation</strong>: Eleventy reads <code>src/portraits/*.md</code> files, processes their front matter into data, and uses the <code>portrait.njk</code> layout to generate individual HTML pages in the <code>_site</code> directory.</li>
<li><strong>Gallery Creation</strong>: The <code>index.njk</code> template accesses the Eleventy-generated collection of all portraits to dynamically build the main gallery grid.</li>
<li><strong>Asset Management</strong>: <code>style.css</code> and <code>gallery.js</code> are copied directly to the <code>_site/assets/</code> directory as defined in <code>.eleventy.js</code>.</li>
</ul>
